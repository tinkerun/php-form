<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>php-form</title>
</head>
<body>

<script type="module">
import {instance} from '../lib/esm/index.js';

(async () => {
    const form = await instance()

    let code = `<?php
    $form_email = [
        'label' => 'Email',
        'value' => 'user1@example.com',
    ];

    $form_name = 'billy';
    `  
    
    const fields = await form.parse(code)

    console.log(JSON.stringify(fields))
    
    fields[0].value = 'user2@example.com'
    fields[1].value = 'magic'

    code = await form.stringify(fields)

    console.log(code)
    
})()
</script>
</body>
</html>